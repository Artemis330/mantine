---
group: 'changelog'
title: 'Version 5.0.0'
order: 1
slug: /changelog/5-0-0/
release: https://github.com/mantinedev/mantine/releases/tag/5.0.0
date: 'March 29th, 2022'
---

import {
  TabsDemos,
  AccordionDemos,
  TooltipDemos,
  PopoverDemos,
  HoverCardDemos,
  FocusTrapDemos,
  MenuDemos,
  AvatarDemos,
  CardDemos,
  CopyButtonDemos,
  FileButtonDemos,
  InputDemos,
} from '@mantine/demos';

## Components API changes

### Tabs

[Tabs](https://mantine.dev/core/tabs/) and associated [Prism.Tabs](https://mantine.dev/others/prism/) components now have new API.
New API provides the following enhancements:

- Tabs are now more accessible
- Tabs content no longer unmounts on tab change, it is hidden with `display: none`
- It is now easier to manage controlled tabs state with string value instead of index
- With new component structure it is now easier to modify styles of each part with `sx` or `classname` props

Tabs component now supports the following new props:

- `radius` prop (defaults to `theme.defaultRadius`)
- `inverted` prop allows to display panels before controls
- `loop` prop control arrow keys behavior (allows to go from first to last and vice versa)
- `activateTabWithKeyboard` prop controls how tabs respond to arrows and Home/End key presses
- `allowTabDeactivation` prop allows user to deactivate current active tab

<Demo data={TabsDemos.configurator} />

### Accordion

[Accordion](https://mantine.dev/core/accordion/) component now has new API with the following new props:

- `variant` prop controls visuals, Accordion now has 4 variants
- `radius` prop (defaults to `theme.defaultRadius`) controls border-radius for all variants except `default`
- `loop` prop control arrow keys behavior (allows to go from first to last and vice versa)
- `disabled` prop allows to disable items
- `icon` prop adds icon to the opposite side of chevron

<Demo data={AccordionDemos.configurator} />

### Tooltip

[Tooltip](https://mantine.dev/core/tooltip/) now requires children to be an element or a component,
string, numbers, fragments and multiple elements are no longer supported. In addition to that Tooltip no longer wraps target
element with div tag, events are added directly to target element.

```tsx
import { Tooltip, Badge } from '@mantine/core';

function Demo() {
  return (
    <>
      <Tooltip label="OK">
        <button>Native button – ok</button>
      </Tooltip>

      <Tooltip label="OK">
        <Badge>Mantine component – ok</Badge>
      </Tooltip>

      <Tooltip label="Throws">Raw string, NOT OK – will throw error</Tooltip>

      {/* Number, NOT OK – will throw error */}
      <Tooltip label="Throws">{2}</Tooltip>

      <Tooltip label="Throws">
        <>Fragment, NOT OK, will throw error</>
      </Tooltip>

      <Tooltip label="Throws">
        <div>More that one node</div>
        <div>NOT OK, will throw error</div>
      </Tooltip>
    </>
  );
}
```

### Popover

[Popover](https://mantine.dev/core/popover/) component now has new API with the following breaking changes:

- `placement` prop is no longer supported, Popover side and alignment is now controlled with `position` prop
- Default value for `trapFocus` and `withinPortal` props is now `false`
- Close button and title are no longer supported, if you need these parts – add them on your side in `Popover.Dropdown` component

Popover now supports the following new features:

- Uncontrolled and controlled mode
- `width="target"` prop will make popover width the same as target element
- `Popover.Dropdown` can now be styled with system props (`sx`, `className`, padding props, etc.)

<Demo data={PopoverDemos.usage} />

### Menu

[Menu](https://mantine.dev/core/menu/) component now uses [Popover](https://mantine.dev/core/popover/) component under the hood and thus its API was changed in the same way:

- Menu no longer provides default control, it should now be added with `Menu.Target`
- `Menu.Item` component should now be used within `Menu.Dropdown` component
- `trapFocus` prop was removed – now it is managed automatically based on `trigger` prop
- `closeOnScroll` prop was removed – if you need this feature you will need to implement this logic on your side

<Demo data={MenuDemos.usage} />

### Avatar

`AvatarsGroup` component is no longer exported from `@mantine/core` package, instead you can now use
`Avatar.Group` component which can be combined with [Tooltip](https://mantine.dev/core/tooltip/) or [Popover](https://mantine.dev/core/popover/) to display additional information:

<Demo data={AvatarDemos.group} />

### InputWrapper

`InputWrapper` component is no longer exported from `@mantine/core` package, instead you can now use
`Input.Wrapper` component:

<Demo data={InputDemos.wrapperConfigurator} />

## Migration to Floating UI

All components that have dropdowns ([DatePicker](https://mantine.dev/dates/date-picker/), [Popover](https://mantine.dev/core/popover/), [Select](https://mantine.dev/core/select/), etc.)
were migrated to [Floating UI](https://floating-ui.com/) from popper.js:

- `position` and `placement` props were merged into `position` prop, for example, `position="top-start"`
- Popper component is no longer exported from `@mantine/core` package

## Styles API changes

- data attributes
- params with styles attribute
- variants handling changes

### Inputs styles API

You can use `Input` and `Input.Wrapper` [Styles API](https://mantine.dev/styles/styles-api/)
on [MantineProvider](https://mantine.dev/theming/mantine-provider/) to add styles to all Inputs:

<Demo data={InputDemos.providerStyles} />

## MantineProvider changes

### defaultProps, styles and classNames props

[MantineProvider](https://mantine.dev/theming/mantine-provider/) no longer supports `styles`, `classNames` and `defaultProps` props.
Instead of separate props these values should be added to the theme. This change allows to store
all components in one object and share it across multiple environments. For example, it is not much easier
to share theme between application and Storybook:

```tsx
import { MantineProvider } from '@mantine/core';

function Demo() {
  return (
    <MantineProvider
      theme={{
        components: {
          Tabs: {
            defaultProps: { color: 'red' },
            classNames: { root: 'tabs-root' },
            styles: (theme) => ({
              tab: {
                '&[data-active]': { backgroundColor: theme.colors.red[5] },
              },
            }),
          },
        },
      }}
    >
      <YourApp />
    </MantineProvider>
  );
}
```

### emotionCache prop

[MantineProvider](https://mantine.dev/theming/mantine-provider/) no longer supports `emotionOptions`
prop, instead you will need to create emotion cache on your side and provide it with `emotionCache` prop.
This change was made to enable custom cache to be used during ssr and support more options for emotion
usage, for example with shadow dom or with iframe.

```tsx
import { MantineProvider, createEmotionCache } from '@mantine/core';

const myCache = createEmotionCache({ key: 'mantine' });

function App() {
  return (
    <MantineProvider emotionCache={myCache} withGlobalStyles withNormalizeCSS>
      <YourApp />
    </MantineProvider>
  );
}
```

## Polymorphic components changes

Because of internal changes polymorphic components props types exported from `@mantine/core` package are no longer generic types.
Now if you want to extend these types you need to provide associated element types on your side:

```tsx
import type { ButtonProps } from '@mantine/core';

// Previously, no longer supported
type MyButtonProps = ButtonProps<'button'> & { label: string };

// Convert to
type MyButtonProps = ButtonProps & React.ComponentPropsWithoutRef<'button'> & { label: string };
```

## Other breaking changes

- [Portal](https://mantine.dev/core/portal/) component no longer accepts `position` and `zIndex` props – it is now required to add these styles to Portal children
- FloatingTooltip component was renamed to [Tooltip.Floating](https://mantine.dev/core/tooltip/#floating-tooltip)
- Most components with dropdowns (Tooltip, Popover, ColorPicker, DatePicker, Select, etc.) are no longer using Portal by default, it is now required to set `withinPortal` if you need this feature
- [Input](https://mantine.dev/core/input/) no longer supports `headless` variant, use `unstyled` prop instead
- [AppShell](https://mantine.dev/core/app-shell/) `fixed` prop is now `true` by default
- [CheckboxGroup](https://mantine.dev/core/checkbox), [RadioGroup](https://mantine.dev/core/radio/) and [Chips](https://mantine.dev/core/chip/) components are no longer exported from `@mantine/core`, use `Checkbox.Group`, `Radio.Group` and `Chip.Group` components instead
- `@mantine/hooks` package no longer exports old `use-form` hook, use `@mantine/form` package instead
- [Group](https://mantine.dev/core/group/) component no longer supports `direction` prop, use [Stack](https://mantine.dev/core/stack/) component instead for vertical stacks
- [use-uncontrolled](https://mantine.dev/hooks/use-uncontrolled/) hook logic was changed, it no longer supports `rule` parameter
- [use-id](https://mantine.dev/hooks/use-id/) hook now supports React 18 `useId` hook with a fallback for older React versions, `generateId` function is no longer supported

## React 18 support

All Mantine components now support React 18, all known issues related to React 18 migration
were fixed:

- [ColorPicker](https://mantine.dev/core/color-picker/) and [ColorInput](https://mantine.dev/core/color-input/) components no longer throw error on value change
- Issue with stale [Dropzone](https://mantine.dev/others/dropzone/) status was fixed
- Multiple issues with types were fixed (mostly related to `children` prop changes)
- The entire Mantine codebase was migrate to React 18 (documentation website, [Mantine UI](https://ui.mantine.dev), all packages)

## New theme properties

### fontWeight for each heading

`theme.headings` now has an option to set `fontWeight` for each heading individually:

```tsx
import { MantineProvider } from '@mantine/core';

function Demo() {
  return (
    <MantineProvider
      theme={{
        headings: {
          // font-weight for all headings
          fontWeight: 400,

          sizes: {
            // Overrides individual headings
            h1: { fontWeight: 100 },
            h6: { fontWeight: 900 },
          },
        },
      }}
    >
      <App />
    </MantineProvider>
  );
}
```

## New components

### HoverCard component

New [HoverCard](https://mantine.dev/core/hover-card/) component:

<Demo data={HoverCardDemos.profile} />

### CopyButton component

New [CopyButton](https://mantine.dev/core/copy-button/) component:

<Demo data={CopyButtonDemos.tooltip} />

### FileButton component

New [FileButton](https://mantine.dev/core/file-button/) component:

<Demo data={FileButtonDemos.usage} />

### FocusTrap component

New [FocusTrap](https://mantine.dev/core/focus-trap/) component:

<Demo data={FocusTrapDemos.usage} />

## New features

### Tooltip delay group

[Tooltip.Group](https://mantine.dev/core/tooltip/#tooltip-delay-group) component can be used to sync open and close delays for multiple tooltips:

<Demo data={TooltipDemos.group} />

### Input.Wrapper inputContainer prop

All inputs that use `Input.Wrapper` component under the hood ([TextInput](https://mantine.dev/core/text-input/), [Autocomplete](https://mantine.dev/core/autocomplete/), [DatePicker](https://mantine.dev/dates/date-picker/), etc.)
now support `inputContainer` prop. This prop let you add additional elements before/after input element or add floating
elements that will be positioned relative to the input. Example with [Tooltip](https://mantine.dev/core/tooltip/):

<Demo data={InputDemos.inputContainer} />

### Input.Wrapper inputWrapperOrder prop

New `inputWrapperOrder` prop allows to define the order of `Input.Wrapper` parts:

<Demo data={InputDemos.order} />

### Input.Label, Input.Error and Input.Description

[Input](https://mantine.dev/core/input/) component now exposes `Input.Label`, `Input.Error` and `Input.Description`,
that were previously the parts of `InputWrapper` component. You can use these components to create custom
form layouts if default `Input.Wrapper` layout does not fit your requirements:

<Demo data={InputDemos.helpers} />

### Card.Section improvements

[Card.Section](https://mantine.dev/core/card/#withborder-and-inheritpadding-props) now supports the following props to simplify customizations:

- `withBorder` prop will add top and bottom border to `Card.Section` depending on its position relative to other content and sections
- `inheritPadding` prop will add the same left and right padding to `Card.Section` as set in `Card` component

<Demo data={CardDemos.section} demoProps={{ toggle: true }} />

## Other changes

- [Affix](https://mantine.dev/core/affix/) now supports `withinPortal` prop
- [Burger](https://mantine.dev/core/burger/) now supports `transitionDuration` prop
- [Collapse](https://mantine.dev/core/collapse/) now support `ref` prop
- [NumberInput](https://mantine.dev/core/number-input/) has new increment/decrement controls
